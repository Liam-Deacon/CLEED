<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>CLEED: rfac_func.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">CLEED
   &#160;<span id="projectnumber">2014.10.19</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_b0856f6b0d80ccb263b2f415c91f9e17.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">rfac_func.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Header file for function prototypes used in the R factor program.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="a00277_source.html">rfac_def.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for rfac_func.h:</div>
<div class="dyncontent">
<div class="center"><img src="a00427.png" border="0" usemap="#rfac__func_8h" alt=""/></div>
<map name="rfac__func_8h" id="rfac__func_8h">
<area shape="rect" id="node2" href="a00277.html" title="Header file for rfac data structures, definitions and constants. " alt="" coords="47,80,127,107"/><area shape="rect" id="node4" href="a00273.html" title="Definitions in connection with the type #real. " alt="" coords="105,155,159,181"/></map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="a00428.png" border="0" usemap="#rfac__func_8hdep" alt=""/></div>
<map name="rfac__func_8hdep" id="rfac__func_8hdep">
<area shape="rect" id="node2" href="a00276.html" title="master include file for R factor program. " alt="" coords="1012,80,1067,107"/><area shape="rect" id="node3" href="a00039.html" title="Master include file for the CLEED project. " alt="" coords="5,155,76,181"/><area shape="rect" id="node4" href="a00051_source.html" title="crfac.c" alt="" coords="100,155,160,181"/><area shape="rect" id="node5" href="a00275.html" title="Low level routines associated with #rfac_iv and #rfac_iv_data. " alt="" coords="184,155,239,181"/><area shape="rect" id="node6" href="a00280_source.html" title="rfctr2out.c" alt="" coords="263,155,344,181"/><area shape="rect" id="node7" href="a00281.html" title="Implementation file for file_content(), rf_help() and rf_info() functions. " alt="" coords="368,155,433,181"/><area shape="rect" id="node8" href="a00282.html" title="Implementation file for rf_input() function. " alt="" coords="458,155,527,181"/><area shape="rect" id="node9" href="a00283.html" title="Implementation of rf_intindl() function. " alt="" coords="551,155,626,181"/><area shape="rect" id="node10" href="a00285.html" title="Implementation for rf_lorentz() function. " alt="" coords="650,155,730,181"/><area shape="rect" id="node11" href="a00286.html" title="Prepare R factor calculations. " alt="" coords="755,155,833,181"/><area shape="rect" id="node12" href="a00287.html" title="Implementation file for rf_mklist() function. " alt="" coords="858,155,933,181"/><area shape="rect" id="node13" href="a00288.html" title="Produces output of rfactors to files or stdout. " alt="" coords="957,155,1034,181"/><area shape="rect" id="node14" href="a00289.html" title="Implementation of R1 calculation using rf_r1() function. " alt="" coords="1058,155,1111,181"/><area shape="rect" id="node15" href="a00290.html" title="Implementation of R2 factor calculation. " alt="" coords="1135,155,1189,181"/><area shape="rect" id="node16" href="a00291.html" title="Implemenation file for Rb1 factor calculation. " alt="" coords="1213,155,1266,181"/><area shape="rect" id="node17" href="a00292.html" title="File contains C implementation for rf_rdargs function. " alt="" coords="1291,155,1369,181"/><area shape="rect" id="node18" href="a00293.html" title="Implementation file for reading theoretical IV curves from CLEED program using rf_rdcleed() function..." alt="" coords="1394,155,1477,181"/><area shape="rect" id="node19" href="a00294.html" title="Implementation of rf_rdexpt() function. " alt="" coords="1501,155,1578,181"/><area shape="rect" id="node20" href="a00295.html" title="Implementation file for rf_rmin() function. " alt="" coords="1602,155,1669,181"/><area shape="rect" id="node21" href="a00296.html" title="Implementation file for calculating Pendry R&#45;factor. " alt="" coords="1693,155,1746,181"/><area shape="rect" id="node22" href="a00297.html" title="C implementation of rf_sort() function. " alt="" coords="1771,155,1833,181"/><area shape="rect" id="node23" href="a00298.html" title="Implementation file for rf_spline() function. " alt="" coords="1858,155,1933,181"/><area shape="rect" id="node24" href="a00299.html" title="Implementation file for rf_splint() function. " alt="" coords="1957,155,2028,181"/></map>
</div>
</div>
<p><a href="a00278_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a240bd00564822920326319abd6b3a28f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00278.html#a240bd00564822920326319abd6b3a28f">bgets</a> (const char *, long, long, char *)</td></tr>
<tr class="memdesc:a240bd00564822920326319abd6b3a28f"><td class="mdescLeft">&#160;</td><td class="mdescRight">get string from buffer  <a href="#a240bd00564822920326319abd6b3a28f">More...</a><br /></td></tr>
<tr class="separator:a240bd00564822920326319abd6b3a28f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1b04ce5366787523ee195fe5bc4ef4e"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00278.html#aa1b04ce5366787523ee195fe5bc4ef4e">file2buffer</a> (const char *)</td></tr>
<tr class="memdesc:aa1b04ce5366787523ee195fe5bc4ef4e"><td class="mdescLeft">&#160;</td><td class="mdescRight">copy file to buffer  <a href="#aa1b04ce5366787523ee195fe5bc4ef4e">More...</a><br /></td></tr>
<tr class="separator:aa1b04ce5366787523ee195fe5bc4ef4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2389dc549163f331f854d16f4641cfd"><td class="memItemLeft" align="right" valign="top">rfac_args&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00278.html#ad2389dc549163f331f854d16f4641cfd">rf_rdargs</a> (int, char **)</td></tr>
<tr class="memdesc:ad2389dc549163f331f854d16f4641cfd"><td class="mdescLeft">&#160;</td><td class="mdescRight">read argument list  <a href="#ad2389dc549163f331f854d16f4641cfd">More...</a><br /></td></tr>
<tr class="separator:ad2389dc549163f331f854d16f4641cfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15bc2a68830b205ad14e5ce2c174250b"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00278.html#a15bc2a68830b205ad14e5ce2c174250b">rf_lines</a> (const char *)</td></tr>
<tr class="memdesc:a15bc2a68830b205ad14e5ce2c174250b"><td class="mdescLeft">&#160;</td><td class="mdescRight">count lines  <a href="#a15bc2a68830b205ad14e5ce2c174250b">More...</a><br /></td></tr>
<tr class="separator:a15bc2a68830b205ad14e5ce2c174250b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2708f5258de10f05c598a682774aae0c"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00278.html#a2708f5258de10f05c598a682774aae0c">rf_clines</a> (const char *)</td></tr>
<tr class="memdesc:a2708f5258de10f05c598a682774aae0c"><td class="mdescLeft">&#160;</td><td class="mdescRight">count comment lines  <a href="#a2708f5258de10f05c598a682774aae0c">More...</a><br /></td></tr>
<tr class="separator:a2708f5258de10f05c598a682774aae0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ca32d9966d5fbc9e7da7521fea90687"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00278.html#a9ca32d9966d5fbc9e7da7521fea90687">rf_nclines</a> (const char *)</td></tr>
<tr class="memdesc:a9ca32d9966d5fbc9e7da7521fea90687"><td class="mdescLeft">&#160;</td><td class="mdescRight">count data lines  <a href="#a9ca32d9966d5fbc9e7da7521fea90687">More...</a><br /></td></tr>
<tr class="separator:a9ca32d9966d5fbc9e7da7521fea90687"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af525f87559e31d6624fdeabd1c3d1e3d"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00278.html#af525f87559e31d6624fdeabd1c3d1e3d">rf_version</a> (char *)</td></tr>
<tr class="memdesc:af525f87559e31d6624fdeabd1c3d1e3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">current program version  <a href="#af525f87559e31d6624fdeabd1c3d1e3d">More...</a><br /></td></tr>
<tr class="separator:af525f87559e31d6624fdeabd1c3d1e3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53b98d7c54c9885d6a58f6bfa04c249f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00278.html#a53b98d7c54c9885d6a58f6bfa04c249f">rf_help</a> (FILE *)</td></tr>
<tr class="memdesc:a53b98d7c54c9885d6a58f6bfa04c249f"><td class="mdescLeft">&#160;</td><td class="mdescRight">help function  <a href="#a53b98d7c54c9885d6a58f6bfa04c249f">More...</a><br /></td></tr>
<tr class="separator:a53b98d7c54c9885d6a58f6bfa04c249f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b1046325a94aa2a4c60db84245c27a5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00278.html#a8b1046325a94aa2a4c60db84245c27a5">rf_info</a> ()</td></tr>
<tr class="memdesc:a8b1046325a94aa2a4c60db84245c27a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">version information, etc.  <a href="#a8b1046325a94aa2a4c60db84245c27a5">More...</a><br /></td></tr>
<tr class="separator:a8b1046325a94aa2a4c60db84245c27a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a610586f4107b1270566a561c0c87793d"><td class="memItemLeft" align="right" valign="top">rfac_ivcur *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00278.html#a610586f4107b1270566a561c0c87793d">rf_input</a> (const char *, const char *)</td></tr>
<tr class="memdesc:a610586f4107b1270566a561c0c87793d"><td class="mdescLeft">&#160;</td><td class="mdescRight">General input routine:  <a href="#a610586f4107b1270566a561c0c87793d">More...</a><br /></td></tr>
<tr class="separator:a610586f4107b1270566a561c0c87793d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66a356a9cfbcf6b53d7fd52f1b0e89aa"><td class="memItemLeft" align="right" valign="top">rfac_iv_data *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00278.html#a66a356a9cfbcf6b53d7fd52f1b0e89aa">rf_rdcleed</a> (rfac_ivcur *, char *, char *)</td></tr>
<tr class="memdesc:a66a356a9cfbcf6b53d7fd52f1b0e89aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read theoretical IV curves (one per geometry) for the beams listed in index_list from buffer.  <a href="#a66a356a9cfbcf6b53d7fd52f1b0e89aa">More...</a><br /></td></tr>
<tr class="separator:a66a356a9cfbcf6b53d7fd52f1b0e89aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1378dd6e77a94b14cf4ab98e9ca5a7ec"><td class="memItemLeft" align="right" valign="top">rfac_iv_data *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00278.html#a1378dd6e77a94b14cf4ab98e9ca5a7ec">rf_rdexpt</a> (rfac_ivcur *, const char *)</td></tr>
<tr class="memdesc:a1378dd6e77a94b14cf4ab98e9ca5a7ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read experimental IV curve from file specified by filename and check if energy values are equidistant and sorted.  <a href="#a1378dd6e77a94b14cf4ab98e9ca5a7ec">More...</a><br /></td></tr>
<tr class="separator:a1378dd6e77a94b14cf4ab98e9ca5a7ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa1d52d3ef763ed1bb76a3c1fa866d2e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00278.html#afa1d52d3ef763ed1bb76a3c1fa866d2e">rf_sort</a> (rfac_ivcur *)</td></tr>
<tr class="memdesc:afa1d52d3ef763ed1bb76a3c1fa866d2e"><td class="mdescLeft">&#160;</td><td class="mdescRight">sort IV curves in increasing energy order.  <a href="#afa1d52d3ef763ed1bb76a3c1fa866d2e">More...</a><br /></td></tr>
<tr class="separator:afa1d52d3ef763ed1bb76a3c1fa866d2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d8e8079864259d5512b9fc50b2b7f88"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00278.html#a7d8e8079864259d5512b9fc50b2b7f88">rf_lorentz</a> (rfac_ivcur *, real, const char *)</td></tr>
<tr class="separator:a7d8e8079864259d5512b9fc50b2b7f88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46d3635f2c6996b8302769815785ed4a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00278.html#a46d3635f2c6996b8302769815785ed4a">rf_spline</a> (rfac_iv *)</td></tr>
<tr class="memdesc:a46d3635f2c6996b8302769815785ed4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs the first stage of a cubic spline.  <a href="#a46d3635f2c6996b8302769815785ed4a">More...</a><br /></td></tr>
<tr class="separator:a46d3635f2c6996b8302769815785ed4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81c4b8ff21bc342fc8f811c6b28955d7"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00278.html#a81c4b8ff21bc342fc8f811c6b28955d7">rf_mklide</a> (real *, real *, real *, real, real, rfac_iv_data *, size_t, rfac_iv_data *, size_t)</td></tr>
<tr class="memdesc:a81c4b8ff21bc342fc8f811c6b28955d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">First stage of cubic spline.  <a href="#a81c4b8ff21bc342fc8f811c6b28955d7">More...</a><br /></td></tr>
<tr class="separator:a81c4b8ff21bc342fc8f811c6b28955d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6911ab1beae34a456e3beb2dfdf4413f"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00278.html#a6911ab1beae34a456e3beb2dfdf4413f">rf_mklist</a> (real *, real *, real *, real, rfac_iv_data *, size_t, rfac_iv_data *, size_t)</td></tr>
<tr class="separator:a6911ab1beae34a456e3beb2dfdf4413f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb458d3ad60583209ba11f4ad2c4d2bc"><td class="memItemLeft" align="right" valign="top">real&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00278.html#acb458d3ad60583209ba11f4ad2c4d2bc">rf_r1</a> (const real *, const real *, const real *)</td></tr>
<tr class="memdesc:acb458d3ad60583209ba11f4ad2c4d2bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">compute R1-factor.  <a href="#acb458d3ad60583209ba11f4ad2c4d2bc">More...</a><br /></td></tr>
<tr class="separator:acb458d3ad60583209ba11f4ad2c4d2bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5e4b7536b42e83bb7bced30359d9649"><td class="memItemLeft" align="right" valign="top">real&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00278.html#af5e4b7536b42e83bb7bced30359d9649">rf_rb</a> (const real *, const real *, const real *)</td></tr>
<tr class="memdesc:af5e4b7536b42e83bb7bced30359d9649"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate Rb1-factor.  <a href="#af5e4b7536b42e83bb7bced30359d9649">More...</a><br /></td></tr>
<tr class="separator:af5e4b7536b42e83bb7bced30359d9649"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0ec7f6013ccd07165f1a2a3086d9ad0"><td class="memItemLeft" align="right" valign="top">real&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00278.html#ae0ec7f6013ccd07165f1a2a3086d9ad0">rf_rp</a> (const real *, const real *, const real *, real)</td></tr>
<tr class="memdesc:ae0ec7f6013ccd07165f1a2a3086d9ad0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute Pendry's R-factor.  <a href="#ae0ec7f6013ccd07165f1a2a3086d9ad0">More...</a><br /></td></tr>
<tr class="separator:ae0ec7f6013ccd07165f1a2a3086d9ad0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa24258585dd2122c6bcd280d54209677"><td class="memItemLeft" align="right" valign="top">real&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00278.html#aa24258585dd2122c6bcd280d54209677">rf_rmin</a> (rfac_ivcur *, rfac_args *, real *, real *, real *)</td></tr>
<tr class="memdesc:aa24258585dd2122c6bcd280d54209677"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate R factor and find minimum with respect to shift.  <a href="#aa24258585dd2122c6bcd280d54209677">More...</a><br /></td></tr>
<tr class="separator:aa24258585dd2122c6bcd280d54209677"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add5f6f762b9b79c9924b9ab799958a79"><td class="memItemLeft" align="right" valign="top">rfac_iv *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00278.html#add5f6f762b9b79c9924b9ab799958a79">rfac_iv_init</a> ()</td></tr>
<tr class="memdesc:add5f6f762b9b79c9924b9ab799958a79"><td class="mdescLeft">&#160;</td><td class="mdescRight">intialize #rfac_iv object.  <a href="#add5f6f762b9b79c9924b9ab799958a79">More...</a><br /></td></tr>
<tr class="separator:add5f6f762b9b79c9924b9ab799958a79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e0747dcd03f2865959c1ccaa0a032c0"><td class="memItemLeft" align="right" valign="top">rfac_iv *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00278.html#a1e0747dcd03f2865959c1ccaa0a032c0">rfac_iv_alloc</a> (size_t)</td></tr>
<tr class="memdesc:a1e0747dcd03f2865959c1ccaa0a032c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">allocate memory for #rfac_iv with <code>n_eng</code> data points for #rfac_iv_data member.  <a href="#a1e0747dcd03f2865959c1ccaa0a032c0">More...</a><br /></td></tr>
<tr class="separator:a1e0747dcd03f2865959c1ccaa0a032c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8412b22024ac7c1c87311950fdcbb0b7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00278.html#a8412b22024ac7c1c87311950fdcbb0b7">rfac_iv_free</a> (rfac_iv *)</td></tr>
<tr class="memdesc:a8412b22024ac7c1c87311950fdcbb0b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free #rfac_iv object instance from memory.  <a href="#a8412b22024ac7c1c87311950fdcbb0b7">More...</a><br /></td></tr>
<tr class="separator:a8412b22024ac7c1c87311950fdcbb0b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d79bfa004badd93f1356570a52492c7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00278.html#a0d79bfa004badd93f1356570a52492c7">rfac_iv_to_arrays</a> (const rfac_iv *, double *, double *, size_t *)</td></tr>
<tr class="memdesc:a0d79bfa004badd93f1356570a52492c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts ::data of <code>iv</code> into arrays of <code>x</code> and <code>fx</code>.  <a href="#a0d79bfa004badd93f1356570a52492c7">More...</a><br /></td></tr>
<tr class="separator:a0d79bfa004badd93f1356570a52492c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Header file for function prototypes used in the R factor program. </p>

<p>Definition in file <a class="el" href="a00278_source.html">rfac_func.h</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a240bd00564822920326319abd6b3a28f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bgets </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>get string from buffer </p>

<p>Definition at line <a class="el" href="a00024_source.html#l00036">36</a> of file <a class="el" href="a00024_source.html">bgets.c</a>.</p>

</div>
</div>
<a class="anchor" id="aa1b04ce5366787523ee195fe5bc4ef4e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* file2buffer </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>copy file to buffer </p>

<p>Definition at line <a class="el" href="a00063_source.html#l00040">40</a> of file <a class="el" href="a00063_source.html">file2buffer.c</a>.</p>

</div>
</div>
<a class="anchor" id="a2708f5258de10f05c598a682774aae0c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t rf_clines </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>count comment lines </p>

<p>Definition at line <a class="el" href="a00284_source.html#l00087">87</a> of file <a class="el" href="a00284_source.html">rflines.c</a>.</p>

</div>
</div>
<a class="anchor" id="a53b98d7c54c9885d6a58f6bfa04c249f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rf_help </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>output</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>help function </p>
<p>help function</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*output</td><td>file pointer to direct output e.g. stderr </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00281_source.html#l00064">64</a> of file <a class="el" href="a00281_source.html">rfhelp.c</a>.</p>

</div>
</div>
<a class="anchor" id="a8b1046325a94aa2a4c60db84245c27a5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rf_info </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>version information, etc. </p>
<p>version information, etc. </p>

<p>Definition at line <a class="el" href="a00281_source.html#l00137">137</a> of file <a class="el" href="a00281_source.html">rfhelp.c</a>.</p>

</div>
</div>
<a class="anchor" id="a610586f4107b1270566a561c0c87793d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rfac_ivcur* rf_input </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>control_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>theory_file</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>General input routine: </p>
<p>Read all inputs from theoretical and experimental data files according to commands given in the control file (input, see command line). The following symbols can be used to specify the files to be read from: e0: energy of beam appearance. ef: experimental input file (format: &lt;energy&gt; &lt;intensity&gt;). (ei: spots used from current experimental input file.) ti: spots used from current theoretical input file. id: group ID wt: relative weight in R factor calculation.</p>
<p>A sample control file is shown below. Three experimental files (Ru001cl.iv1-3) are compared with the corresponding beams from the theoretical input file (rucl3.res) specified by their beam indices.</p>
<p>&mdash; Begin of File &mdash; </p><h1>Clean Ru(001) surface</h1>
<h1>(control file for R factor program RFAC)</h1>
<p># </p><h1>ef=</h1>
<h1>ti=</h1>
<h1>id=</h1>
<h1>: = separator</h1>
<p>ef=/usr/leed/RU001/Ru001cl.iv1:ti=(-1.,1.)+(1.,-1.):id=11:wt=1. ef=/usr/leed/RU001/Ru001cl.iv2:ti=(-1.,2.) :id=12:wt=1. ef=/usr/leed/RU001/Ru001cl.iv3:ti=(-2.,2.)+(2.,-2.):id=11:wt=1. &mdash; End of File &mdash;</p>
<dl class="section return"><dt>Returns</dt><dd>pointer to a list of IV curves rfac_ivcur <code>*cur_list</code> . This list is terminated by the value I_END_OF_LIST in cur_list[i+1].group_id. </dd></dl>

<p>Definition at line <a class="el" href="a00282_source.html#l00065">65</a> of file <a class="el" href="a00282_source.html">rfinput.c</a>.</p>

</div>
</div>
<a class="anchor" id="a15bc2a68830b205ad14e5ce2c174250b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t rf_lines </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>count lines </p>

<p>Definition at line <a class="el" href="a00284_source.html#l00036">36</a> of file <a class="el" href="a00284_source.html">rflines.c</a>.</p>

</div>
</div>
<a class="anchor" id="a7d8e8079864259d5512b9fc50b2b7f88"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rf_lorentz </td>
          <td>(</td>
          <td class="paramtype">rfac_ivcur *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>FIXME: </p>

<p>Definition at line <a class="el" href="a00285_source.html#l00056">56</a> of file <a class="el" href="a00285_source.html">rflorentz.c</a>.</p>

</div>
</div>
<a class="anchor" id="a81c4b8ff21bc342fc8f811c6b28955d7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t rf_mklide </td>
          <td>(</td>
          <td class="paramtype">real *&#160;</td>
          <td class="paramname"><em>eng</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real *&#160;</td>
          <td class="paramname"><em>e_int</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real *&#160;</td>
          <td class="paramname"><em>t_int</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real&#160;</td>
          <td class="paramname"><em>de</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real&#160;</td>
          <td class="paramname"><em>shift</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rfac_iv_data *&#160;</td>
          <td class="paramname"><em>exp_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>exp_leng</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rfac_iv_data *&#160;</td>
          <td class="paramname"><em>the_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>the_leng</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>First stage of cubic spline. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">*eng</td><td>energy values within the overlapping energy range. If there is a non-zero shift between the energy axes, the energy value will correspond to the experimental energy axis.</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">*e_int</td><td>pointer to experimental intensity values corresponding to <code>eng</code>.</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">*t_int</td><td>pointer to theoretical intensity values corresponding to <code>eng</code>.</td></tr>
    <tr><td class="paramdir"></td><td class="paramname">de</td><td>step for energy axis.</td></tr>
    <tr><td class="paramdir"></td><td class="paramname">shift</td><td>offset between experimental and theoretical energy axes (Et = Ee - shift). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">*exp_list</td><td>pointer to list of energy/intensity/deriv2 values to be interpolated by cubic spline.</td></tr>
    <tr><td class="paramdir"></td><td class="paramname">exp_leng</td><td>number of elements in exp_list.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">*the_list</td><td>pointer to list of energy/intensity/deriv2 values to be interpolated by cubic spline.</td></tr>
    <tr><td class="paramdir"></td><td class="paramname">the_leng</td><td>number of elements in the_list.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The lists exp_list and the_list must be prepared for a cubic spline; i.e. the structure elements deriv2 must exist.</dd></dl>
<p>Enough memory for <code>eng</code>, <code>e_int</code>, and <code>t_int</code> must be allocated.</p>
<dl class="section return"><dt>Returns</dt><dd>Number of energy points in lists.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>if no overlap. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00286_source.html#l00062">62</a> of file <a class="el" href="a00286_source.html">rfmklide.c</a>.</p>

</div>
</div>
<a class="anchor" id="a6911ab1beae34a456e3beb2dfdf4413f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t rf_mklist </td>
          <td>(</td>
          <td class="paramtype">real *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rfac_iv_data *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rfac_iv_data *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>FIXME: no content within loop </p>

<p>Definition at line <a class="el" href="a00287_source.html#l00061">61</a> of file <a class="el" href="a00287_source.html">rfmklist.c</a>.</p>

</div>
</div>
<a class="anchor" id="a9ca32d9966d5fbc9e7da7521fea90687"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t rf_nclines </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>count data lines </p>

<p>Definition at line <a class="el" href="a00284_source.html#l00059">59</a> of file <a class="el" href="a00284_source.html">rflines.c</a>.</p>

</div>
</div>
<a class="anchor" id="acb458d3ad60583209ba11f4ad2c4d2bc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">real rf_r1 </td>
          <td>(</td>
          <td class="paramtype">const real *&#160;</td>
          <td class="paramname"><em>eng</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const real *&#160;</td>
          <td class="paramname"><em>e_int</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const real *&#160;</td>
          <td class="paramname"><em>t_int</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>compute R1-factor. </p>
<p>This function calculates the R1-factor between experimental and theoretical IV curves.</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ R1 = \frac{S |I_t - (norm_te \times I_e)|}{S |I_t|} \]" src="form_48.png"/>
</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ norm_te = \frac{S|I_t|}{S|I_e|} \]" src="form_49.png"/>
</p>
<dl class="section note"><dt>Note</dt><dd>Normalisation factor (denominator) is changed with respect to common use. Instead of <img class="formulaInl" alt="$ S |I_t| $" src="form_50.png"/>, <img class="formulaInl" alt="$ S|\frac{I_t - S*I_t}{\delta E}| $" src="form_51.png"/> is used.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">eng</td><td>pointer to list of energy values. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">e_int</td><td>pointer to list of experimental intensity values. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">t_int</td><td>pointer to list of theoretical intensities.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd><code>eng</code> must be terminated by <a class="el" href="a00086.html#ac28b27e40ecb5be53afb8c8b051f6630" title="list terminator (float) ">F_END_OF_LIST</a>.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">R1-factor,if</td><td>successful. </td></tr>
    <tr><td class="paramname">F_FAIL,if</td><td>failed. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00289_source.html#l00050">50</a> of file <a class="el" href="a00289_source.html">rfr1.c</a>.</p>

</div>
</div>
<a class="anchor" id="af5e4b7536b42e83bb7bced30359d9649"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">real rf_rb </td>
          <td>(</td>
          <td class="paramtype">const real *&#160;</td>
          <td class="paramname"><em>eng</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const real *&#160;</td>
          <td class="paramname"><em>e_int</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const real *&#160;</td>
          <td class="paramname"><em>t_int</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate Rb1-factor. </p>
<p>Calculate Rb1-factor:</p>
<p><img class="formulaInl" alt="$ R_{b1} = \frac{(1 - C)}{(1 - C_NORM)} $" src="form_52.png"/></p>
<p><img class="formulaInl" alt="$ C = \frac{S(I_t \times I_e)}{\sqrt{ (S I_t^2) \cdot (S I_e^2)}} $" src="form_53.png"/> <img class="formulaInl" alt="$ C_{NORM} = \frac{2}{3} $" src="form_54.png"/> (cf. G. Held, Dissertation)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">eng</td><td>pointer to list of energies. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">e_int</td><td>pointer to list of experimental intensities. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">t_int</td><td>lists pointer to list of theoretical intensities.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd><code>eng</code> must be terminated by <a class="el" href="a00086.html#ac28b27e40ecb5be53afb8c8b051f6630" title="list terminator (float) ">F_END_OF_LIST</a>.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>R2-factor if successful. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="a00277.html#a6403682757b15ca29449ae35aa8fda3cab2385e4f19c9a7785a583caea28fbda7" title="indicates general failure ">RFAC_FAILURE</a>,if</td><td>failed. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00291_source.html#l00048">48</a> of file <a class="el" href="a00291_source.html">rfrb.c</a>.</p>

</div>
</div>
<a class="anchor" id="ad2389dc549163f331f854d16f4641cfd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rfac_args rf_rdargs </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>argv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>read argument list </p>
<p>read argument list</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">argc</td><td>argument counter </td></tr>
    <tr><td class="paramname">argv</td><td>argument string vector</td></tr>
  </table>
  </dd>
</dl>
<p>valid arguments:</p>
<p>&ndash;print -a &lt;flag&gt;: specify which group ID's appear in output. arguments: "al(l)", "av(erage)". default: "average". program parameter: all_groups</p>
<p>&ndash;control -c &lt;filename&gt;: specify control file for averaging and assigning data input. program parameter: ctrfile</p>
<p>&ndash;help -h: Print help file.</p>
<p>&ndash;output -o &lt;output file&gt;=""&gt;: specify a file name for the r factor output to be written to. valid arguments: "stdout" / "-", "single", &lt;file name&gt;=""&gt;. default: "stdout".</p>
<p>&ndash;rfactor -r &lt;r_factor&gt;: specify a particular R-factor to be used for comparison. valid arguments: "r1", "r2", "rb", "rp". default: "rp". program parameter: r_type</p>
<p>&ndash;shift -s &lt;shift&gt;: specify an energy range for shifting experimental and theoretical data with respect to each other (Ee = Et + shift). 1-3 arguments: &lt;first shift&gt;=""&gt;{,&lt;last shift&gt;=""&gt;,&lt;step&gt;} default: -10, 10, 0.5; program parameters: s_ini, s_fin, s_step.</p>
<p>&ndash;theory -t &lt;filename&gt;: specify theoretical input file (outside control file) program parameter: thefile.</p>
<p>&ndash;potential -v &lt;potential&gt;: imaginary part of optical potential (used for smoothing and for computation of Pendry's R-factor). arguments: floating point number [eV]. default: 4.0 program parameter: vi</p>
<p>&ndash;write -w &lt;filename&gt;: specify file name for iv curves output. program parameter: iv_file.</p>
<dl class="section return"><dt>Returns</dt><dd>#rfac_args struct containing argument list.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Function exits if any error occurred. </dd></dl>

<p>Definition at line <a class="el" href="a00292_source.html#l00094">94</a> of file <a class="el" href="a00292_source.html">rfrdargs.c</a>.</p>

</div>
</div>
<a class="anchor" id="a66a356a9cfbcf6b53d7fd52f1b0e89aa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rfac_iv_data* rf_rdcleed </td>
          <td>(</td>
          <td class="paramtype">rfac_ivcur *&#160;</td>
          <td class="paramname"><em>iv_cur</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>index_list</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read theoretical IV curves (one per geometry) for the beams listed in index_list from buffer. </p>
<p>The input file must be compatible with the output from CLEED:</p>
<p>&lt;comment line(s) ("# " followed by arbitrary comment) &gt; &lt;number of energies ("#en" followed by an integer number) &gt; &lt;number of beams ("#bn" followed by an integer number) &gt; &lt;beam indices ("#bi" followed by an integer and two real numbers) &gt; &lt;energy&gt; &lt;intensity&gt; &lt;intensity&gt; ..... (all in one line)</p>
<dl class="section warning"><dt>Warning</dt><dd>The number of beams must appear before the the first beam index is read.</dd></dl>
<p>Simultaneously it will be checked if the input list is ordered and equidistant according to energy.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*iv_cur</td><td>pointer to structure #rfac_ivcur. All available information about the theoretical IV curve will be stored in this structure. sort and equidistant flags will be set.</td></tr>
    <tr><td class="paramname">buffer</td><td>file buffer containing theoretical input.</td></tr>
    <tr><td class="paramname">index_list</td><td>command line for interpreter rf_intindl() . Syntax: (&lt;index1&gt;,&lt;index2&gt;) {*&lt;scale&gt; +/- (&lt;index1&gt;,&lt;index2&gt;)*&lt;scale&gt;}</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to the IV curve (#rfac_iv_data). The list is terminated by a pair of negative values.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"></td><td>c NULL if failed. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00293_source.html#l00068">68</a> of file <a class="el" href="a00293_source.html">rfrdcleed.c</a>.</p>

</div>
</div>
<a class="anchor" id="a1378dd6e77a94b14cf4ab98e9ca5a7ec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rfac_iv_data* rf_rdexpt </td>
          <td>(</td>
          <td class="paramtype">rfac_ivcur *&#160;</td>
          <td class="paramname"><em>iv_cur</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read experimental IV curve from file specified by filename and check if energy values are equidistant and sorted. </p>
<p>The order of the input file must be: &lt;energy&gt; &lt;intensity&gt; Comments are indicated by a '#'.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">iv_cur</td><td>pointer to structure #rfac_iv. All available information about the theoretical IV curve will be stored in this structure.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">filename</td><td>string containing the name of the file where the input should be read from.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to the IV curve (#rfac_iv). The IV list is terminated by a pair (energy, intensity) of negative values.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"></td><td>c NULL if failed. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00294_source.html#l00046">46</a> of file <a class="el" href="a00294_source.html">rfrdexpt.c</a>.</p>

</div>
</div>
<a class="anchor" id="aa24258585dd2122c6bcd280d54209677"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">real rf_rmin </td>
          <td>(</td>
          <td class="paramtype">rfac_ivcur *&#160;</td>
          <td class="paramname"><em>iv_cur</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rfac_args *&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real *&#160;</td>
          <td class="paramname"><em>p_r_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real *&#160;</td>
          <td class="paramname"><em>p_s_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real *&#160;</td>
          <td class="paramname"><em>p_e_range</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate R factor and find minimum with respect to shift. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">iv_cur</td><td>pointer to data structure containing all essential data such as experimental and theoretical IV curves weight etc.</td></tr>
    <tr><td class="paramname">args</td><td>pointer to argument list including:<ul>
<li>imaginary part of the optical potential.</li>
<li>s_ini, s_fin, s_step,</li>
<li>r_type.</li>
</ul>
</td></tr>
    <tr><td class="paramname">p_r_min</td><td>pointer to </td></tr>
    <tr><td class="paramname">p_s_min</td><td>pointer to </td></tr>
    <tr><td class="paramname">p_e_range</td><td>pointer to</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>minimum R factor, if successful. </dd></dl>

<p>Definition at line <a class="el" href="a00295_source.html#l00051">51</a> of file <a class="el" href="a00295_source.html">rfrmin.c</a>.</p>

</div>
</div>
<a class="anchor" id="ae0ec7f6013ccd07165f1a2a3086d9ad0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">real rf_rp </td>
          <td>(</td>
          <td class="paramtype">const real *&#160;</td>
          <td class="paramname"><em>eng</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const real *&#160;</td>
          <td class="paramname"><em>e_int</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const real *&#160;</td>
          <td class="paramname"><em>t_int</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real&#160;</td>
          <td class="paramname"><em>vi</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compute Pendry's R-factor. </p>
<p>Compute Pendry's R-factor:</p>
<p><img class="formulaInl" alt="$ R_p = S(Y_e - Y_t)^2 / S(Y_e^2 + Y_t^2) $" src="form_9.png"/></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">eng</td><td>pointer to list of energies. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">e_int</td><td>pointer to list of experimental intensities. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">t_int</td><td>pointer to list of theoretical intensities.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd><code>eng</code> must be terminated by F_END_OF_LIST.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vi</td><td>Imaginary part of the optical potential.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Rp if successful. </dd></dl>

<p>Definition at line <a class="el" href="a00296_source.html#l00044">44</a> of file <a class="el" href="a00296_source.html">rfrp.c</a>.</p>

</div>
</div>
<a class="anchor" id="afa1d52d3ef763ed1bb76a3c1fa866d2e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rf_sort </td>
          <td>(</td>
          <td class="paramtype">rfac_ivcur *&#160;</td>
          <td class="paramname"><em>iv_cur</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>sort IV curves in increasing energy order. </p>
<p>Sort experimental and theoretical IV curves according to their energy and check if the energy values are equidistant.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">iv_cur</td><td>data structure containing all essential data such as theoretical IV curves. The theoretical IV curves will be modified after return.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"></td><td>ref RFAC_SUCCESS if successful. </td></tr>
    <tr><td class="paramname"></td><td>ref RFAC_FAILURE if failed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="todo"><dt><b><a class="el" href="a00358.html#_todo000001">Todo:</a></b></dt><dd>implement <a class="el" href="a00277.html#a6403682757b15ca29449ae35aa8fda3cab2385e4f19c9a7785a583caea28fbda7">RFAC_FAILURE</a>. </dd></dl>

<p>Definition at line <a class="el" href="a00297_source.html#l00043">43</a> of file <a class="el" href="a00297_source.html">rfsort.c</a>.</p>

</div>
</div>
<a class="anchor" id="a46d3635f2c6996b8302769815785ed4a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rf_spline </td>
          <td>(</td>
          <td class="paramtype">rfac_iv *&#160;</td>
          <td class="paramname"><em>iv</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Performs the first stage of a cubic spline. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">*list</td><td>list of energy/intensity values to be interpolated by cubic spline. The function will generate the structure elements deriv2, which will be used for interpolation in function rf_splint .</td></tr>
  </table>
  </dd>
</dl>
<p>For a description see Numerical Recipes in C Chapter 3.3. The boundary conditions are set for a natural spline (zero second derivative on both boundaries). </p>

<p>Definition at line <a class="el" href="a00298_source.html#l00036">36</a> of file <a class="el" href="a00298_source.html">rfspline.c</a>.</p>

</div>
</div>
<a class="anchor" id="af525f87559e31d6624fdeabd1c3d1e3d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* rf_version </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>version</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>current program version </p>
<p>current program version</p>
<p>The function returns its argument.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">*version</td><td>string to copy version ID into.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to <code>version</code> string. </dd></dl>

<p>Definition at line <a class="el" href="a00300_source.html#l00074">74</a> of file <a class="el" href="a00300_source.html">rfversion.c</a>.</p>

</div>
</div>
<a class="anchor" id="a1e0747dcd03f2865959c1ccaa0a032c0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rfac_iv* rfac_iv_alloc </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>n_eng</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>allocate memory for #rfac_iv with <code>n_eng</code> data points for #rfac_iv_data member. </p>
<dl class="section return"><dt>Returns</dt><dd>pointer to #rfac_iv object. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>if memory cannot be allocated. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00275_source.html#l00053">53</a> of file <a class="el" href="a00275_source.html">rfac.c</a>.</p>

</div>
</div>
<a class="anchor" id="a8412b22024ac7c1c87311950fdcbb0b7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rfac_iv_free </td>
          <td>(</td>
          <td class="paramtype">rfac_iv *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free #rfac_iv object instance from memory. </p>

<p>Definition at line <a class="el" href="a00275_source.html#l00080">80</a> of file <a class="el" href="a00275_source.html">rfac.c</a>.</p>

</div>
</div>
<a class="anchor" id="add5f6f762b9b79c9924b9ab799958a79"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rfac_iv* rfac_iv_init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>intialize #rfac_iv object. </p>
<dl class="section return"><dt>Returns</dt><dd>pointer to #rfac_iv object. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>if memory cannot be allocated. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00275_source.html#l00030">30</a> of file <a class="el" href="a00275_source.html">rfac.c</a>.</p>

</div>
</div>
<a class="anchor" id="a0d79bfa004badd93f1356570a52492c7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rfac_iv_to_arrays </td>
          <td>(</td>
          <td class="paramtype">const rfac_iv *&#160;</td>
          <td class="paramname"><em>iv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>fx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Converts ::data of <code>iv</code> into arrays of <code>x</code> and <code>fx</code>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">iv</td><td><code>struct</code> containing IV data to convert. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">x</td><td>pointer to array of energy values. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">fx</td><td>pointer to array of intensity values. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">n</td><td>pointer to<div class="fragment"><div class="line"><span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> </div>
</div><!-- fragment --> . This is the number of elements in <code>x</code> and <code>fx</code> .</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>integer representing success of function. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="a00277.html#a6403682757b15ca29449ae35aa8fda3ca22d23d89e541dc095574fdfec1825829" title="indicates general success ">RFAC_SUCCESS</a></td><td>on successful completion. </td></tr>
    <tr><td class="paramname">#RFAC_ALLOC_ERROR</td><td>if memory cannot be allocated for <code>x</code> or <code>fx</code> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>memory will be reallocated if <code>x</code> or <code>fx</code> are not <code>NULL</code> when passed to the function.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>arrays <code>x</code> and <code>fx</code> will not necessarily be terminated by <a class="el" href="a00086.html#ac28b27e40ecb5be53afb8c8b051f6630" title="list terminator (float) ">F_END_OF_LIST</a> </dd></dl>

<p>Definition at line <a class="el" href="a00275_source.html#l00108">108</a> of file <a class="el" href="a00275_source.html">rfac.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Oct 21 2014 18:01:53 for CLEED by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.7
</small></address>
</body>
</html>
